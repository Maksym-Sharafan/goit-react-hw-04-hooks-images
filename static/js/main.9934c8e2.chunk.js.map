{"version":3,"sources":["components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","services/api.js","components/ImageErrorView/ImageErrorView.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","onSubmit","useState","searchName","setSearchName","className","event","preventDefault","type","autoComplete","autoFocus","placeholder","onChange","searchValue","currentTarget","value","toLowerCase","trim","modalRoot","document","querySelector","Modal","onClose","children","handleKeyDown","e","code","useEffect","window","addEventListener","removeEventListener","createPortal","onClick","target","ImageGalleryItem","littleImage","largeImage","id","tags","largeImg","setLargeImg","showModal","setShowModal","toggleModal","prev","src","alt","Button","api","handleApi","searchImages","page","fetch","then","response","ok","json","Promise","reject","Error","ImageErrorView","message","role","Loader","color","height","width","timeout","Status","ImageGallery","query","setQuery","currentPage","setCurrentPage","images","setImages","error","setError","status","setStatus","hits","catch","scrollTo","top","documentElement","scrollHeight","behavior","map","image","webformatURL","largeImageURL","length","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9934c8e2.chunk.js","sourcesContent":["import { useState } from 'react';\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchName, setSearchName] = useState('');\n\n\n  const handleNameChange = event => {\n    const searchValue = event.currentTarget.value.toLowerCase().trim();\n    setSearchName(searchValue);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    onSubmit(searchName);\n    setSearchName('');\n  };\n\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleNameChange}\n          value={searchName}\n        />\n      </form>\n    </header>\n  );\n\n};\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, children }) {\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    }\n  });\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={handleBackdropClick}>\n      <div className=\"Modal\">{children}</div>\n    </div>,\n    modalRoot,\n  );\n\n};\n","import { useState } from 'react';\n\nimport Modal from '../Modal';\n\nexport default function ImageGalleryItem({ littleImage, largeImage, id, tags }) {\n  const [largeImg, setLargeImg] = useState('');\n  const [showModal, setShowModal] = useState(false);\n\n\n  const toggleModal = () => {\n    setShowModal(prev => !prev);\n  };\n\n  const onImageClick = img => {\n    setLargeImg(img);\n    toggleModal();\n  };\n\n  return (\n    <>\n      <li\n        className=\"ImageGalleryItem\"\n        key={id}\n        id={id}\n        onClick={() => onImageClick(largeImage)}\n      >\n        <img\n          src={littleImage}\n          alt={tags}\n          className=\"ImageGalleryItem-image\"\n        />\n      </li>\n\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={largeImg} alt=\"\" />\n        </Modal>\n      )}\n    </>\n  );\n\n}\n","const Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} type=\"button\" className=\"Button\">\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","function handleApi(searchImages, page) {\n  const baseURL = 'https://pixabay.com/api/';\n  const keyApi = '21844309-0bdc8d8d935c894ec75615f09';\n  return fetch(\n    `${baseURL}?q=${searchImages}&page=${page}&key=${keyApi}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Нет значения ${searchImages}`));\n  });\n}\n\nconst api = {\n  handleApi,\n};\n\nexport default api;\n","export default function ImageErrorView({ message }) {\n  return (\n    <div role=\"alert\">\n      <p>{message}</p>\n    </div>\n  );\n}\n","import Loaders from 'react-loader-spinner';\r\n\r\nexport default function Loader() {\r\n    return (\r\n        <div className=\"wrapperLoader\">\r\n            <Loaders\r\n                type=\"ThreeDots\"\r\n                color=\"#00BFFF\"\r\n                height={100}\r\n                width={100}\r\n                timeout={3000} //3 secs\r\n            />\r\n        </div>\r\n    );\r\n};","import { useState, useEffect } from 'react';\n\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Button from '../Button';\nimport api from '../../services/api';\nimport ImageErrorView from '../ImageErrorView';\nimport Loader from '../Loader';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default function ImageGallery({ searchImages }) {\n\n  const [query, setQuery] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  if (searchImages !== query) {\n    setQuery(searchImages);\n    setCurrentPage(1);\n    setImages([]);\n  };\n\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    };\n\n    setStatus(Status.PENDING);\n\n    api\n      .handleApi(query, currentPage)\n      .then(response => {\n        setImages(prev => [...prev, ...response.hits]);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n\n  }, [currentPage, searchImages, query]);\n\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n\n  const onIncrementPage = () => {\n    setCurrentPage(prev => prev + 1);\n\n  };\n\n  if (status === 'idle') {\n    return (\n      <div className=\"startMessage\">Введите что-то в поисковой строке</div>\n    );\n  };\n\n  if (status === 'resolved') {\n    return (\n      <>\n        <ul className=\"ImageGallery\">\n          {images.map(image => (\n            <ImageGalleryItem\n              key={image.webformatURL}\n              littleImage={image.webformatURL}\n              largeImage={image.largeImageURL}\n              id={image.id}\n              tags={image.tags}\n            />\n          ))}\n        </ul>\n        {images.length > 0 && <Button onClick={onIncrementPage} />}\n      </>\n    );\n  };\n\n  if (status === 'pending') {\n    return (\n      <Loader />\n    );\n  };\n\n  if (status === 'rejected') {\n    return <ImageErrorView message={error.message} />;\n  };\n\n};\n","import { useState } from 'react';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\nimport './styles.css';\n\nfunction App() {\n  const [searchName, setSearchName] = useState('');\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={setSearchName} />\n      <ImageGallery searchImages={searchName} />\n    </div>\n  );\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}